import unittest
from lab_3 import hyp
import builtins

class MyTestCase(unittest.TestCase):
    def test_simple(self):
        res_str = ""
        def my_print(object:str, end=""):
            nonlocal res_str
            res_str += object


        original = builtins.print
        builtins.print = my_print
        start = 3
        hyp(start)
        self.assertEqual(res_str, "3->10->5->16->8->4->2->1")
        builtins.print = original

    def test_hard(self):
        res_str = ""
        cases = [(15535461, "15535461->46606384->23303192->11651596->5825798->2912899->8738698->4369349->13108048->6554024->3277012->1638506->819253->2457760->1228880->614440->307220->153610->76805->230416->115208->57604->28802->14401->43204->21602->10801->32404->16202->8101->24304->12152->6076->3038->1519->4558->2279->6838->3419->10258->5129->15388->7694->3847->11542->5771->17314->8657->25972->12986->6493->19480->9740->4870->2435->7306->3653->10960->5480->2740->1370->685->2056->1028->514->257->772->386->193->580->290->145->436->218->109->328->164->82->41->124->62->31->94->47->142->71->214->107->322->161->484->242->121->364->182->91->274->137->412->206->103->310->155->466->233->700->350->175->526->263->790->395->1186->593->1780->890->445->1336->668->334->167->502->251->754->377->1132->566->283->850->425->1276->638->319->958->479->1438->719->2158->1079->3238->1619->4858->2429->7288->3644->1822->911->2734->1367->4102->2051->6154->3077->9232->4616->2308->1154->577->1732->866->433->1300->650->325->976->488->244->122->61->184->92->46->23->70->35->106->53->160->80->40->20->10->5->16->8->4->2->1"),
                 (879194, "879194->439597->1318792->659396->329698->164849->494548->247274->123637->370912->185456->92728->46364->23182->11591->34774->17387->52162->26081->78244->39122->19561->58684->29342->14671->44014->22007->66022->33011->99034->49517->148552->74276->37138->18569->55708->27854->13927->41782->20891->62674->31337->94012->47006->23503->70510->35255->105766->52883->158650->79325->237976->118988->59494->29747->89242->44621->133864->66932->33466->16733->50200->25100->12550->6275->18826->9413->28240->14120->7060->3530->1765->5296->2648->1324->662->331->994->497->1492->746->373->1120->560->280->140->70->35->106->53->160->80->40->20->10->5->16->8->4->2->1"),
                 (97814645, "97814645->293443936->146721968->73360984->36680492->18340246->9170123->27510370->13755185->41265556->20632778->10316389->30949168->15474584->7737292->3868646->1934323->5802970->2901485->8704456->4352228->2176114->1088057->3264172->1632086->816043->2448130->1224065->3672196->1836098->918049->2754148->1377074->688537->2065612->1032806->516403->1549210->774605->2323816->1161908->580954->290477->871432->435716->217858->108929->326788->163394->81697->245092->122546->61273->183820->91910->45955->137866->68933->206800->103400->51700->25850->12925->38776->19388->9694->4847->14542->7271->21814->10907->32722->16361->49084->24542->12271->36814->18407->55222->27611->82834->41417->124252->62126->31063->93190->46595->139786->69893->209680->104840->52420->26210->13105->39316->19658->9829->29488->14744->7372->3686->1843->5530->2765->8296->4148->2074->1037->3112->1556->778->389->1168->584->292->146->73->220->110->55->166->83->250->125->376->188->94->47->142->71->214->107->322->161->484->242->121->364->182->91->274->137->412->206->103->310->155->466->233->700->350->175->526->263->790->395->1186->593->1780->890->445->1336->668->334->167->502->251->754->377->1132->566->283->850->425->1276->638->319->958->479->1438->719->2158->1079->3238->1619->4858->2429->7288->3644->1822->911->2734->1367->4102->2051->6154->3077->9232->4616->2308->1154->577->1732->866->433->1300->650->325->976->488->244->122->61->184->92->46->23->70->35->106->53->160->80->40->20->10->5->16->8->4->2->1"),
                 (582545245, "582545245->1747635736->873817868->436908934->218454467->655363402->327681701->983045104->491522552->245761276->122880638->61440319->184320958->92160479->276481438->138240719->414722158->207361079->622083238->311041619->933124858->466562429->1399687288->699843644->349921822->174960911->524882734->262441367->787324102->393662051->1180986154->590493077->1771479232->885739616->442869808->221434904->110717452->55358726->27679363->83038090->41519045->124557136->62278568->31139284->15569642->7784821->23354464->11677232->5838616->2919308->1459654->729827->2189482->1094741->3284224->1642112->821056->410528->205264->102632->51316->25658->12829->38488->19244->9622->4811->14434->7217->21652->10826->5413->16240->8120->4060->2030->1015->3046->1523->4570->2285->6856->3428->1714->857->2572->1286->643->1930->965->2896->1448->724->362->181->544->272->136->68->34->17->52->26->13->40->20->10->5->16->8->4->2->1"),
                 (8754541554545, "8754541554545->26263624663636->13131812331818->6565906165909->19697718497728->9848859248864->4924429624432->2462214812216->1231107406108->615553703054->307776851527->923330554582->461665277291->1384995831874->692497915937->2077493747812->1038746873906->519373436953->1558120310860->779060155430->389530077715->1168590233146->584295116573->1752885349720->876442674860->438221337430->219110668715->657332006146->328666003073->985998009220->492999004610->246499502305->739498506916->369749253458->184874626729->554623880188->277311940094->138655970047->415967910142->207983955071->623951865214->311975932607->935927797822->467963898911->1403891696734->701945848367->2105837545102->1052918772551->3158756317654->1579378158827->4738134476482->2369067238241->7107201714724->3553600857362->1776800428681->5330401286044->2665200643022->1332600321511->3997800964534->1998900482267->5996701446802->2998350723401->8995052170204->4497526085102->2248763042551->6746289127654->3373144563827->10119433691482->5059716845741->15179150537224->7589575268612->3794787634306->1897393817153->5692181451460->2846090725730->1423045362865->4269136088596->2134568044298->1067284022149->3201852066448->1600926033224->800463016612->400231508306->200115754153->600347262460->300173631230->150086815615->450260446846->225130223423->675390670270->337695335135->1013086005406->506543002703->1519629008110->759814504055->2279443512166->1139721756083->3419165268250->1709582634125->5128747902376->2564373951188->1282186975594->641093487797->1923280463392->961640231696->480820115848->240410057924->120205028962->60102514481->180307543444->90153771722->45076885861->135230657584->67615328792->33807664396->16903832198->8451916099->25355748298->12677874149->38033622448->19016811224->9508405612->4754202806->2377101403->7131304210->3565652105->10696956316->5348478158->2674239079->8022717238->4011358619->12034075858->6017037929->18051113788->9025556894->4512778447->13538335342->6769167671->20307503014->10153751507->30461254522->15230627261->45691881784->22845940892->11422970446->5711485223->17134455670->8567227835->25701683506->12850841753->38552525260->19276262630->9638131315->28914393946->14457196973->43371590920->21685795460->10842897730->5421448865->16264346596->8132173298->4066086649->12198259948->6099129974->3049564987->9148694962->4574347481->13723042444->6861521222->3430760611->10292281834->5146140917->15438422752->7719211376->3859605688->1929802844->964901422->482450711->1447352134->723676067->2171028202->1085514101->3256542304->1628271152->814135576->407067788->203533894->101766947->305300842->152650421->457951264->228975632->114487816->57243908->28621954->14310977->42932932->21466466->10733233->32199700->16099850->8049925->24149776->12074888->6037444->3018722->1509361->4528084->2264042->1132021->3396064->1698032->849016->424508->212254->106127->318382->159191->477574->238787->716362->358181->1074544->537272->268636->134318->67159->201478->100739->302218->151109->453328->226664->113332->56666->28333->85000->42500->21250->10625->31876->15938->7969->23908->11954->5977->17932->8966->4483->13450->6725->20176->10088->5044->2522->1261->3784->1892->946->473->1420->710->355->1066->533->1600->800->400->200->100->50->25->76->38->19->58->29->88->44->22->11->34->17->52->26->13->40->20->10->5->16->8->4->2->1")]
        def my_print(object: str, end=""):
            nonlocal res_str
            res_str += object

        original = builtins.print
        builtins.print = my_print

        for (start, ans) in cases:
            res_str = ""
            hyp(start)
            self.assertEqual(res_str, ans)
        builtins.print = original

if __name__ == '__main__':
    unittest.main()
